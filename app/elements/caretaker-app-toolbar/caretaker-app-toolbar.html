<link rel="import" href="../../lib/iron-media-query/iron-media-query.html">
<link rel="import" href="../../lib/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../lib/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../lib/grapp-breadcrumbs/grapp-breadcrumbs.html">
<link rel="import" href="../../lib/grapp-i18n-js/grapp-i18n-js.html">

<dom-module id="caretaker-app-toolbar">

  <link rel="import" type="css" href="caretaker-app-toolbar.css">

  <template>

    <grapp-app-globals>
      <grapp-app-globals-get key="appTitle" value="{{appTitle}}"></grapp-app-globals-get>
      <grapp-app-globals-get key="appModule" value="{{appModule}}"></grapp-app-globals-get>
    </grapp-app-globals>

    <paper-toolbar id="toolbar" category$="[[appModule]]">

      <div id="title" class="flex">[[_toolbarTitle(appModule)]]</div>

      <div id="breadcrumbs-wrapper" class="bottom" hidden$="[[hideBreadcrumbs]]">
        <grapp-breadcrumbs id="breadcrumbs" wrap render></grapp-breadcrumbs>
      </div>

      <div id="profile">
        <template is="dom-if" if="[[token]]">
          <span>[[i18n('message.logged_in_as')]]</span>&nbsp;<i>[[user.email]]</i>
        </template>
      </div>

      <iron-media-query query="max-width: 800px" queryMatches="[[hideBreadcrumbs]]"></iron-media-query>

    </paper-toolbar>

  </template>

  <script src="caretaker-app-toolbar.js"></script>

</dom-module>
