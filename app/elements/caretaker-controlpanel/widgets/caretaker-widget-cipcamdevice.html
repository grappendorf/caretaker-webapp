<link rel="import" href="../../../lib/grapp-app-globals/grapp-app-globals.html">
<link rel="import" href="../../../lib/grapp-iron-ajax/grapp-iron-ajax.html">

<dom-module id="caretaker-widget-cipcamdevice">

  <link rel="import" type="css" href="caretaker-widget-cipcamdevice.css">

  <template>

    <link href="../../../lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <grapp-app-globals id="globals"></grapp-app-globals>

    <grapp-iron-ajax id="imageRequest" base-url="[[apiUrl]]"
                     path="[[_cipcamImagePath(device.id)]]"
                     method="GET" handleAs="arraybuffer" on-core-response="_updateImage" token="[[token]]"
        ></grapp-iron-ajax>

    <img id="image" width="320" height="240"/>

    <div id="controls" class="layout horizontal center-justified">
      <div class="btn-group">
        <button on-tap="_left" class="btn btn-success">Left</button>
        <button on-tap="_right" class="btn btn-success">Right</button>
        <button on-tap="_up" class="btn btn-success">Up</button>
        <button on-tap="_down" class="btn btn-success">Down</button>
      </div>
    </div>

  </template>

  <script src="caretaker-widget-cipcamdevice.js"></script>

</dom-module>
