<link rel="import" href="../../lib/iron-list/iron-list.html">
<link rel="import" href="../../lib/paper-dialog/paper-dialog.html">
<link rel="import" href="../../lib/paper-button/paper-button.html">
<link rel="import" href="../../lib/grapp-i18n-js/grapp-i18n-js.html">

<dom-module id="caretaker-devices-new-dialog">

  <link rel="import" type="css" href="caretaker-devices-new-dialog.css">

  <template>

    <paper-dialog id="dialog" backdrop layered="false">

      <h2 class="layout horizontal justified">
        <span>New Device</span>
        <paper-spinner active$="[[processing]]"></paper-spinner>
      </h2>

      <div class="vertical layout">
        <iron-list items="[[deviceModels]]" as="model"
                   selection-enabled selected-item="{{deviceModel}}">
          <template>
            <paper-item>
              <nobr><img src="[[_iconImageUrl(model.icon)]]"><span>[[i18n(model.label)]]</span></nobr>
            </paper-item>
          </template>
        </iron-list>
      </div>

      <div class="buttons">
        <paper-button affirmative raised success disabled$="[[!valid]]" on-click="_ok">
          <grapp-fa-icon icon="{{ {check: !processing, spinner: processing} | tokenList}}"
                         spin="[[processing]]"></grapp-fa-icon>
          <span>[[i18n('action.ok')]]</span>
        </paper-button>

        <paper-button affirmative raised error on-click="_cancel">
          <grapp-fa-icon icon="close"></grapp-fa-icon>
          <span>[[i18n('action.cancel')]]</span>
        </paper-button>
      </div>

    </paper-dialog>

  </template>

  <script src="caretaker-devices-new-dialog.js"></script>

</dom-module>
